<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>GiphyAPI</title>
    <!-- bootstrap -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    
</head>
<body>
    <form action="">
    <input id='search' type="text">
    <button class='btn btn-primary pure-btn' id='submit'>submit</button>
    </form>
        
    <br>

    <div class="btns"></div>

    <br>

    <div class="btnDiv"></div>

    <!-- jQuery -->
    <script
        src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous">
    </script>
    
    <!-- my app -->
<script>

var topics = []
// var input = $("#search").val()

$('.pure-btn').click(function(e) { 
    e.preventDefault()
    $('input').attr("value","")
    $(".btnDiv").empty()
    $(".btns").empty()
    var term = $('#search').val()
    topics.push(term)
    // console.log(topics)
    for(var i = 0 ; i < topics.length ; i++){
        $('.btns').append('<button class="topic btn-primary">'+topics[i]+'</image>')
        
    }

    $(".topic").click(function(e){
        e.preventDefault()
        console.log($(this).text())
        $(".btnDiv").empty()
        var term = $(this).text()
    


    $.ajax({

        url: "http://api.giphy.com/v1/gifs/search?q=" + term +  "&api_key=dc6zaTOxFJmzC&limit=5",
        // url: "http://api.giphy.com/v1/gifs/search?q=" + $('#search').val() +  "api_key=GyRePZcZLe1JzhAbTxGilTmHQ9M08VLt",
        type: "GET",
        success: function(resp) {
            console.log(resp)
            // debugger
                       
                var pic1 = resp.data[0].images.fixed_height_small.url
                var pic2 = resp.data[1].images.fixed_height_small.url 
                var pic3 = resp.data[2].images.fixed_height_small.url 
                var pic4 = resp.data[3].images.fixed_height_small.url 
                var pic5 = resp.data[4].images.fixed_height_small.url 
                
                $('.btnDiv').append('<image class="image1" ></image>')
                $('.image1').attr('src', pic1)
                $('.btnDiv').append('<image class="image2" ></image>')
                $('.image2').attr('src', pic2)
                $('.btnDiv').append('<image class="image3" ></image>')
                $('.image3').attr('src', pic3)
                $('.btnDiv').append('<image class="image4" ></image>')
                $('.image4').attr('src', pic4)
                $('.btnDiv').append('<image class="image5" ></image>')
                $('.image5').attr('src', pic5)
            }

        

    });

    })
   
})




    </script>

</body>
</html>